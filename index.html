<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-title" content="20/20 Scanner">
    <title>20/20 QR Scanner</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <style>
        /* Existing styles */
    </style>
</head>
<body>
    <div class="header">
        <img src="2020-Logo-Color-150.png" alt="Logo">
        <h1>Warehouse QR Scanner</h1>
    </div>
    <div id="qr-reader"></div>
    <div class="button-container">
        <button id="startButton" disabled aria-label="Start Scanning">Start Scanning</button>
        <button id="stopButton" aria-label="Stop Scanning">Stop Scanning</button>
        <button id="emailReportButton" aria-label="Send Email Report">Send Email Report</button>
    </div>

    <div id="inventorySection" class="inventory-section">
        <h2>Audit Items</h2> <!-- Changed from "Inventory Items" to "Audit Items" -->
        <ul id="inventoryList"></ul>
        <div class="button-container">
            <button id="inventoryEmailButton" class="email-button" aria-label="Email Audit Report">Email Audit Report</button> <!-- Updated label -->
            <button id="inventorySmsButton" class="sms-button" aria-label="SMS Audit Report">SMS Audit Report</button> <!-- Updated label -->
        </div>
    </div>

    <div id="notification">Item Scanned!</div>

    <script>
        // Existing code...

        function addItemToList(item) {
            const itemObject = parseItem(item); // Parse the QR code content into an object

            const li = document.createElement('li');
            const itemContent = document.createElement('div');
            itemContent.className = 'item-content';

            // Create elements for each property and append them
            const customerDiv = document.createElement('div');
            customerDiv.textContent = `Customer: ${itemObject.CUSTOMER}`;
            itemContent.appendChild(customerDiv);

            const partDiv = document.createElement('div');
            partDiv.textContent = `Part: ${itemObject.PART}`;
            itemContent.appendChild(partDiv);

            const supplierDiv = document.createElement('div');
            supplierDiv.textContent = `Supplier: ${itemObject.SUPPLIER}`;
            itemContent.appendChild(supplierDiv);

            const orderDiv = document.createElement('div');
            orderDiv.textContent = `Order: ${itemObject.ORDER}`;
            itemContent.appendChild(orderDiv);

            const labeledDiv = document.createElement('div');
            labeledDiv.textContent = `Labeled: ${itemObject.LABELED}`;
            itemContent.appendChild(labeledDiv);

            const removeButton = document.createElement('button');
            removeButton.textContent = 'Remove';
            removeButton.className = 'remove-button';
            removeButton.onclick = () => {
                li.remove();
                scannedItems.delete(item);
                updateVendorSectionVisibility();
            };

            li.appendChild(itemContent);
            li.appendChild(removeButton);

            inventoryList.appendChild(li); // Append to the Audit Items list
            inventorySection.style.display = 'block';
        }

        function parseItem(item) {
            const fields = item.split(';');
            const itemObject = {};
            fields.forEach(field => {
                const [key, value] = field.split('=');
                itemObject[key.trim()] = value ? value.trim() : '';
            });
            return itemObject;
        }

        // Existing code...
    </script>
</body>
</html>
